<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Usuarios</h1>
    <ul id="lista-usuarios">

    </ul>
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            fetch('https://jsonplaceholder.typicode.com/users')
            .then(response => {
                /* 
                    function (response){

                    }
                */
               if(!response.ok){
                    throw new  Error("Error en la red");
               } else{
                    return response.json();
               }

            })
            .then(datos => {
                let lista = document.getElementById("lista-usuarios");
                datos.forEach(usuario => {
                    //console.log(usuario.name)
                    let item = document.createElement("li");
                    item.textContent = usuario.name;
                    lista.appendChild(item);
                });
            })
            .catch(error => {
                console.log("Error al procesar los datos");
            })

            // Funciones flecha
            /*
                function suma(a, b){
                    return return a+b;
                }

                function ejemplo(){
                    let x=5;
                    let raiz = Math.sqrt(x);
                    return raiz;
                }

                let suma = respuesta => a+b;

                let ejemplo = respuesta => {
                    let x=5;
                    let raiz = Math.sqrt(x);
                    return raiz;
                }
            */

            
            // let xhr = new XMLHttpRequest();
            // xhr.open('GET', 'https://jsonplaceholder.typicode.com/users', true);
            // /** TODO **/
            // xhr.onload = function(){
            //     if(this.status >= 200 && this.status <300){
            //         //console.log(this.responseText); 
            //         let usuarios = JSON.parse(this.responseText);
            //         //console.log(usuarios[0].name);
            //         // for(let i=0; i<usuarios.length; i++){
            //         //     console.log(usuarios[i].name);
            //         // }
            //         let lista = document.getElementById("lista-usuarios");
            //         usuarios.forEach(usuario => {
            //             //console.log(usuario.name)
            //             let item = document.createElement("li");
            //             item.textContent = usuario.name;
            //             lista.appendChild(item);
            //         });
            //     } else{
            //         console.log("Error del lado del servidor");
            //     }
            // }

            // xhr.error = function(){
            //     console.log("Error al cargar los datos");
            // }
             
            // /** **/
            // xhr.send(); // Enviar solicitud
        })
    </script>
</body>   
</html>